{"version":3,"sources":["components/InputSearch/index.js","components/Footer/index.js","components/Header/index.js","assets/search.png","components/Logo/index.js","components/SearchList/index.js","api/index.js","pages/Search/search.service.js","pages/Search/index.js","App.js","index.js"],"names":["InputSearch","props","size","placeholder","prefix","SearchOutlined","allowClear","suffix","AudioOutlined","Footer","style","textAlign","CopyrightOutlined","Header","color","Logo","className","src","logo","alt","SearchList","data","query","onSelect","spliter","RegExp","itemLayout","dataSource","renderItem","item","Item","onClick","title","Meta","avatar","image_url","href","url","split","match","request","axios","create","baseURL","timeout","a","this","get","results","Search","useState","inputVal","setinputVal","useDebounce","setQuery","list","setList","onChange","useCallback","value","target","length","useEffect","searchService","then","App","Content","ReactDOM","render","document","getElementById"],"mappings":"wQAceA,EAXK,SAAAC,GAAK,OACvB,cAAC,IAAD,aACEC,KAAK,QACLC,YAAY,eACZC,OAAQ,cAACC,EAAA,EAAD,IACRC,YAAY,EACZC,OAAQ,cAACC,EAAA,EAAD,KACJP,K,SCDOQ,EANA,kBACb,cAAC,IAAOA,OAAR,CAAeC,MAAO,CAAEC,UAAW,SAAnC,SACE,iCAAM,cAACC,EAAA,EAAD,IAAN,4BCGWC,EANA,kBACb,cAAC,IAAOA,OAAR,CAAeH,MAAO,CAAEI,MAAO,QAA/B,oBCHa,MAA0B,mCCQ1BC,EANF,kBACX,qBAAKC,UAAU,kBAAf,SACE,qBAAKC,IAAKC,EAAMC,IAAI,Y,2BC2BTC,G,OA5BI,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAAatB,EAAY,2CACpDuB,EAAU,IAAIC,OAAOH,EAAO,KAClC,OACE,cAAC,IAAD,yBACEI,WAAW,aACXC,WAAYN,GACRpB,GAHN,IAIE2B,WAAY,SAAAC,GAEV,OACE,cAAC,IAAKC,KAAN,CAAWC,QAAS,kBAAMR,EAASM,EAAKG,QAAxC,SACE,cAAC,IAAKF,KAAKG,KAAX,CACEC,OAAQ,cAAC,IAAD,CAAQjB,IAAKY,EAAKM,YAC1BH,MACE,oBAAGI,KAAMP,EAAKQ,IAAd,UACGR,EAAKG,MAAMM,MAAMd,GAAS,GAC3B,mBAAGR,UAAU,YAAb,SAA0Ba,EAAKG,MAAMO,MAAMf,KAC1CK,EAAKG,MAAMM,MAAMd,GAAS,gB,yFCb9BgB,E,OALCC,EAAMC,OAAO,CAC3BC,QAAS,2BACTC,QAAS,M,sBCaI,M,4FAdL,K,8EAER,WAAUtB,GAAV,iBAAAuB,EAAA,0DACM,YAAAC,KAAA,MAAWxB,GADjB,yCAEW,YAAAwB,KAAA,MAAWxB,IAFtB,uBAKyBkB,EAAQO,IAAR,kCAAuCzB,IALhE,uBAKUD,EALV,EAKUA,KAER,YAAAyB,KAAA,MAAWxB,GAASD,EAAK2B,QAP3B,kBAQS3B,EAAK2B,SARd,gD,+DCiCaC,G,OAhCA,WAAO,IAAD,EACaC,mBAAS,IADtB,mBACZC,EADY,KACFC,EADE,OAEOC,YAAY,GAAI,KAFvB,mBAEZ/B,EAFY,KAELgC,EAFK,OAGKJ,mBAAS,MAHd,mBAGZK,EAHY,KAGNC,EAHM,KAKbC,EAAWC,uBAAY,YAA4B,IAAfC,EAAc,EAAxBC,OAAUD,MACxCP,EAAYO,GACRA,EAAME,OAAS,EACjBL,EAAQ,MAIVF,EAASK,KACR,CAACP,EAAaE,EAAUE,IAU3B,OARAM,qBAAU,WACHxC,GAILyC,EAAchB,IAAIzB,GAAO0C,KAAKR,KAC7B,CAAClC,IAGF,sBAAKN,UAAU,oBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAa2C,MAAOR,EAAUM,SAAUA,EAAUzC,UAAU,iBAC3DuC,GAAQ,cAAC,EAAD,CAAYlC,KAAMkC,EAAMjC,MAAOA,EAAOC,SAAU6B,EAAapC,UAAU,uB,OChBvEiD,MAZf,WACE,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,IAAOC,QAAR,UACE,cAAC,EAAD,MAEF,cAAC,EAAD,Q,cCPNC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.b9bb7011.chunk.js","sourcesContent":["import { Input } from 'antd';\nimport { SearchOutlined, AudioOutlined } from '@ant-design/icons';\n\nconst InputSearch = props => (\n  <Input\n    size=\"large\"\n    placeholder=\"Search anime\"\n    prefix={<SearchOutlined />}\n    allowClear={true}\n    suffix={<AudioOutlined />}\n    {...props}\n  />\n);\n\nexport default InputSearch;\n","import { Layout } from 'antd';\nimport { CopyrightOutlined } from '@ant-design/icons';\n\nconst Footer = () => (\n  <Layout.Footer style={{ textAlign: 'right' }}>\n    <span><CopyrightOutlined /> Alexandr Semenenko</span>\n  </Layout.Footer>\n);\n\nexport default Footer;\n","import { Layout } from 'antd';\n\nconst Header = () => (\n  <Layout.Header style={{ color: '#fff' }}>\n    Jikan\n  </Layout.Header>\n);\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/search.94fa6950.png\";","import logo from '../../assets/search.png';\n\nconst Logo = () => (\n  <div className='logo__container'>\n    <img src={logo} alt='logo' />\n  </div>\n)\n\nexport default Logo;","import { List, Avatar } from 'antd';\nimport './style.css';\n\nconst SearchList = ({ data, query, onSelect, ...props }) => {\n  const spliter = new RegExp(query, 'i');\n  return (\n    <List\n      itemLayout=\"horizontal\"\n      dataSource={data}\n      {...props}\n      renderItem={item => {\n\n        return (\n          <List.Item onClick={() => onSelect(item.title)}>\n            <List.Item.Meta\n              avatar={<Avatar src={item.image_url} />}\n              title={(\n                <a href={item.url}>\n                  {item.title.split(spliter)[0]}\n                  <b className=\"highlight\">{item.title.match(spliter)}</b>\n                  {item.title.split(spliter)[1]}\n                </a>\n              )}\n            />\n          </List.Item>\n        )}\n      }\n    />\n  )\n}\n\nexport default SearchList;\n","import axios from 'axios';\n\nconst request = axios.create({\n  baseURL: 'https://api.jikan.moe/v3',\n  timeout: 30000,\n});\n\nexport default request;\n","import request from '../../api';\n\nclass SearchService {\n  #cash = {};\n\n  async get(query) {\n    if (this.#cash[query]) {\n      return this.#cash[query];\n    }\n\n    const { data } = await request.get(`/search/anime?limit=8&q=${query}`);\n\n    this.#cash[query] = data.results;\n    return data.results;\n  }\n}\n\nexport default new SearchService();\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useDebounce } from '@react-hook/debounce'\nimport { InputSearch, SearchList, Logo } from '../../components';\nimport searchService from './search.service';\nimport './style.css'\n\nconst Search = () => {\n  const [inputVal, setinputVal] = useState('');\n  const [query, setQuery] = useDebounce('', 300);\n  const [list, setList] = useState(null);\n\n  const onChange = useCallback(({ target: { value } }) => {\n    setinputVal(value);\n    if (value.length < 3) {\n      setList(null);\n      return;\n    }\n\n    setQuery(value)\n  }, [setinputVal, setQuery, setList]);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    searchService.get(query).then(setList);\n  }, [query]);\n\n  return (\n    <div className=\"page page__search\">\n      <Logo />\n      <InputSearch value={inputVal} onChange={onChange} className=\"input-search\" />\n      {list && <SearchList data={list} query={query} onSelect={setinputVal} className=\"result-search\" />}\n    </div>\n  );\n}\n\nexport default Search;\n","import { Layout } from 'antd';\nimport { Header, Footer } from './components';\nimport { Search } from './pages';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Layout>\n      <Header />\n      <Layout.Content>\n        <Search />\n      </Layout.Content>\n      <Footer />\n    </Layout>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}